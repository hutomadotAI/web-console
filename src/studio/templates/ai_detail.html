{% extends 'studio_base.html' %}

{% load i18n static %}

{% block title %}{% trans 'Bot summary' %}{% endblock %}

{% block navigation %}
  {% include 'studio_navigation.html' with ai=ai active='' %}
{% endblock %}

{% block content %}
  <div class="content-wrapper">

    <div class="box">
      <div class="box-header">

        <h2 class="box-title">{{ ai.name }}</h2>

        {% if ai_details.intents|length or ai_details.training_file %}
          <a href="{% url 'studio:retrain' aiid %}" class="btn btn-default">{% trans 'Restart Training' %}</a>
        {% endif %}
        <a href="{% url 'studio:settings' ai.aiid %}" class="btn btn-primary">{% trans 'Settings' %}</a>
      </div>
    </div>

    <div class="box-row">

      <div class="box">
        <div class="box-header with-border">

          <h2 class="box-title">{% trans 'Training' %}</h2>

          <a href="https://docs.hutoma.ai/The_Anatomy_of_a_Bot/A_Bot_Training_file/Training_upload_&_progress.html"
            class="documentation link"
            target="_blank"
            data-toggle="tooltip"
            title="{% trans 'Documentation' %}">
              <i class="fa fa-question-circle"></i>
          </a>
        </div>

        <div class="box-body">
          {% if ai_details.training_file %}

            <pre class="content" style="overflow: auto; white-space: pre-wrap;">{{ ai_details.training_file }}</pre>

          {% else %}
            <i class="fa fa-comments icon-image"></i>
            <p>{% blocktrans %}Simply upload historical conversations or conversation samples between your users.{% endblocktrans %}</p>
          {% endif %}
        </div>

        <div class="box-footer">
          <a href="{% url 'studio:training' ai.aiid %}" class="btn btn-link">{% trans 'Edit training' %} <i class="fa fa-chevron-right"></i></a>
        </div>

      </div>

      <div class="box">
        <div class="box-header with-border">

          <h2 class="box-title">{% trans 'Intents' %}</h2>

          <a href="https://docs.hutoma.ai/The_Anatomy_of_a_Bot/Adding_intents/Intents.html" class="documentation link" target="_blank"  data-toggle="tooltip" title="{% trans 'Documentation' %}">
            <i class="fa fa-question-circle"></i>
          </a>

        </div>

        <div class="box-body">

          {% if ai_details.intents %}
            <div class="elements content">
              {% for intent in ai_details.intents|slice:':5' %}
                <div class="element"><a href="{% url 'studio:intents.edit' ai.aiid intent %}" title="edit {{ intent }}">{{ intent }}</a></div>
              {% endfor %}
            </div>
          {% else %}
            <i class="fa fa-sitemap icon-image"></i>
            <p>{% blocktrans %}An Intent is a way to flag completion of a specific task during a conversation.{% endblocktrans %}</p>
          {% endif %}

        </div>

        <div class="box-footer">
          <a href="{% url 'studio:intents' ai.aiid %}" class="btn btn-link">{% trans 'Edit intents' %} <i class="fa fa-chevron-right"></i></a>
        </div>

      </div>

      <div class="box">
        <div class="box-header with-border">

          <h2 class="box-title">{% trans 'Skills' %}</h2>

          <a href="https://docs.hutoma.ai/The_Anatomy_of_a_Bot/Extend_a_Bot/Add_skills_to_your_bot.html" class="documentation link" target="_blank"  data-toggle="tooltip" title="{% trans 'Documentation' %}">
            <i class="fa fa-question-circle"></i>
          </a>

        </div>

        <div class="box-body">

          {% if ai_details.skills %}
            <div class="elements content">
              {% for skill in ai_details.skills|slice:':5' %}
                <div class="element">{{ skill.name }}</div>
              {% endfor %}
            </div>
          {% else %}
            <i class="fa fa-plus icon-image"></i>
            <p>{% blocktrans %}Think of bot skills as Lego pieces that you can mix and match together to build your own AI.{% endblocktrans %}</p>
          {% endif %}

        </div>

        <div class="box-footer">
          <a href="{% url 'studio:intents' ai.aiid %}" class="btn btn-link">{% trans 'Edit skills' %} <i class="fa fa-chevron-right"></i></a>
        </div>

      </div>

    </div>

  </div>
{% endblock %}

{% block stylesheets %}
  {{ block.super }}

  <link rel="stylesheet" href="{% static 'css/elements.css' %}">
{% endblock %}
