{% extends 'base.html' %}

{% load static %}

{% block body.attributes %} class="fixed sidebar-mini workspace{% if chatable %} chatable{% endif %}"{% endblock body.attributes %}

{% block header %}
  {% include 'console_header.html' %}
{% endblock %}

{% block footer %}
  {% include 'console_footer.html' %}
{% endblock %}

{% block aside %}


  <div class="aside show" id="ASIDE">
    {# We hide chat for smaller screen size (need to be here so it don't flicker) #}
    <script>
      if (window.matchMedia('(max-width: 1023px)').matches) {
        document.getElementById('ASIDE').classList.remove('show');
      }
    </script>

    {% include 'chat.html' with ai=ai %}
    {% include 'logs.html' %}
  </div>

{% endblock aside %}

{% block stylesheets.vendors %}
  {{ block.super }}

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.13.0/plugins/line-numbers/prism-line-numbers.min.css" integrity="sha256-SA3HrKLu4tldegZQVdUx8Cwwo2hQFIu7iW6UOo6OdS4=" crossorigin="anonymous" />
{% endblock %}

{% block stylesheets %}
  {{ block.super }}

  <link rel="stylesheet" href="{% static 'css/navigation.css' %}">
  <link rel="stylesheet" href="{% static 'css/prism-them.css' %}" />
{% endblock %}

{% block javascripts.vendors %}

  {{ block.super }}

  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.13.0/prism.min.js" integrity="sha256-AqXn2u4UOZ36/xOhOEYrMIqgHrq1p8m88HJO+oPzPiM=" crossorigin="anonymous" data-manual></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.13.0/plugins/line-numbers/prism-line-numbers.min.js" integrity="sha256-JfF9MVfGdRUxzT4pecjOZq6B+F5EylLQLwcQNg+6+Qk=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.13.0/components/prism-json.min.js" integrity="sha256-oA5rMHeAX+cg/CdcQ0VHmIqqw/IW4o2KAUEjo4QvShs=" crossorigin="anonymous"></script>

{% endblock %}

{% block javascripts %}
  <script>
    const API_URL = '{{ api_url }}'
    const AI = {
      id: '{{ ai.aiid }}',
      name: '{{ ai.name }}'
    }
  </script>

  <script src="{% static 'js/forms.js' %}"></script>
  <script src="{% static 'js/sanitize.js' %}"></script>
  <script src="{% static 'js/clipboard.js' %}"></script>
  <script src="{% static 'js/training.js' %}"></script>
  <script src="{% static 'js/voice.js' %}"></script>
  <script src="{% static 'js/chat.js' %}"></script>
{% endblock %}
